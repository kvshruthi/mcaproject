{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SHRUTHI KV\\\\Desktop\\\\project_positive\\\\my-app\\\\src\\\\componets\\\\Login.js\";\nimport React, { Component, useState, Fragment } from \"react\";\nimport \"./CSS/App.css\";\nimport axios from \"axios\";\nimport { Redirect, Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props); // this.getUser = this.getUser;\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n      const login = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      const body = JSON.stringify(login);\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }; // console.log(body);\n\n      try {\n        const res = await axios.post(`http://localhost:5000/api/v1/auth/login`, body, config);\n        console.log(res.data.token);\n        sessionStorage.setItem(\"token\", res.data.token);\n        sessionStorage.setItem(\"isAuth\", true); // console.log(sessionStorage);\n\n        this.setState({\n          isAuth: true\n        });\n      } catch (error) {\n        alert(\"Error Login!!\");\n      }\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      type: \"\",\n      isAuth: false\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      type: this.props.match.params.type\n    });\n  } // Input on change\n\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  } // Login\n\n\n  render() {\n    const type = this.state.type; // console.log(type);\n\n    let social = {};\n    let signup, login; // if (type === \"user\") {\n\n    social = \"#ffc312\";\n    signup = React.createElement(\"a\", {\n      href: `/signup/${type}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Sign Up\");\n    console.log(type); // console.log(isAuthenticated());\n\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.isAuth ? type == \"user\" ? //   <Redirect isAuth={this.state.isAuth} to=\"/user/userprofile\" />\n    // ) : type == \"vendor\" ? (\n    React.createElement(Redirect, {\n      isAuth: this.state.isAuth,\n      to: \"/vendor/Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }) : type == \"admin\" ? React.createElement(Redirect, {\n      isAuth: this.state.isAuth,\n      to: \"/dmin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }) : React.createElement(Redirect, {\n      isAuth: this.state.isAuth,\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"container logintop \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"jumbotron \",\n      id: \"login-second\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"area\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"circles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"card animated bounce\",\n      id: \"login-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Sign In \", type), React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      id: \"social_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: social\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-facebook-square\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      style: {\n        color: social\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-google-plus-square\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      style: {\n        color: social\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-twitter-square\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        background: social\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"email\",\n      placeholder: \"Email\",\n      value: this.state.email,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        background: social\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      className: \"form-control\",\n      placeholder: \"password\",\n      value: this.state.password,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      value: \"Login\",\n      name: \"submit\",\n      className: \"btn float-right login_btn btn-block \",\n      style: {\n        backgroundColor: social\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Login\")))), React.createElement(\"div\", {\n      className: \"card-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center links\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Don't have an account?\", signup), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/reset\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Forgot your password?\"))))))))));\n  }\n\n}\n\nexport default Login; // import React, { Component, useState } from \"react\";\n// import \"./CSS/App.css\";\n// import axios from \"axios\";\n// import { Redirect, Link } from \"react-router-dom\";\n// const superagent = require(\"superagent\");\n// class Login extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.getUser = this.getUser;\n//     this.state = {\n//       email: \"\",\n//       password: \"\",\n//       type: \"\",\n//     };\n//     this.onChange = this.onChange.bind(this);\n//   }\n//   componentDidMount() {\n//     this.setState({\n//       type: this.props.match.params,\n//     });\n//     // this.props.getuser();\n//   }\n//   // Input on change\n//   onChange(e) {\n//     this.setState({\n//       [e.target.name]: e.target.value,\n//     });\n//   }\n//   // Login\n//   onSubmit = (e) => {\n//     e.preventDefault();\n//     superagent\n//       .post(\"http://localhost:5000/api/v1/auth/login\")\n//       .send({ email: this.state.email, password: this.state.password })\n//       .end((err, res) => {\n//         if (err) {\n//           this.setState({ errorMessage: \"Authenticstion Failed\" });\n//           return;\n//         }\n//         console.log(res.body.token);\n//         sessionStorage.setItem(\"token\", res.body.token);\n//       });\n//   };\n//   isAuthenticated() {\n//     const token = localStorage.getItem(\"token\");\n//     return token && token.length > 10;\n//   }\n//   render() {\n//     const type = this.state.type;\n//     console.log(type.type);\n//     let social = {};\n//     let signup, login;\n//     if (type === \"user\") {\n//       social = \"#ffc312\";\n//       signup = <a href={`/signup`}>Sign Up</a>;\n//     } else {\n//       social = \"#49b5e7\";\n//       signup = <a href={`/fsignup`}>Sign Up</a>;\n//     }\n//     // if (type === \"user\") {\n//     //   if (this.state.email == \"\") {\n//     //     social = \"#ffc312\";\n//     //   } else {\n//     //     console.log(\"err\");\n//     //   }\n//     // } else {\n//     //   if (this.state.email == \"\") {\n//     //     social = \"#49b5e7\";\n//     //   }\n//     // }\n//     return (\n//       <div className=\"container logintop \">\n//         {/* {this.isAuthenticated ? (\n//           <Redirect\n//             to={{\n//               pathname: \"/admin\",\n//             }}\n//           />\n//         ) : ( */}\n//         <div className=\"\">\n//           {/* <div className=\"jumbotron col-md-6 col-sm-5 \" id=\"login-first\"></div> */}\n//           <div className=\"jumbotron \" id=\"login-second\">\n//             <div className=\"container\">\n//               <div className=\"d-flex justify-content-center\">\n//                 <div className=\"area\">\n//                   <ul className=\"circles\">\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                   </ul>\n//                 </div>\n//                 <div className=\"card animated bounce\" id=\"login-card\">\n//                   <div className=\"card-header\">\n//                     <h3 className=\"mt-5\">Sign In As {type.type}</h3>\n//                     <div\n//                       className=\"d-flex justify-content-end\"\n//                       id=\"social_icon\"\n//                     >\n//                       <span style={{ color: social }}>\n//                         <i className=\"fa fa-facebook-square\"></i>\n//                       </span>\n//                       <span style={{ color: social }}>\n//                         <i className=\"fa fa-google-plus-square\"></i>\n//                       </span>\n//                       <span style={{ color: social }}>\n//                         <i className=\"fa fa-twitter-square\"></i>\n//                       </span>\n//                     </div>\n//                   </div>\n//                   <div className=\"card-body\">\n//                     <form onSubmit={this.onSubmit}>\n//                       <div className=\"input-group form-group\">\n//                         <div className=\"input-group-prepend\">\n//                           <span\n//                             className=\"input-group-text\"\n//                             style={{ background: social }}\n//                           >\n//                             <i className=\"fa fa-user\"></i>\n//                           </span>\n//                         </div>\n//                         <input\n//                           type=\"text\"\n//                           className=\"form-control\"\n//                           name=\"email\"\n//                           placeholder=\"Email\"\n//                           value={this.state.email}\n//                           onChange={this.onChange}\n//                         />\n//                       </div>\n//                       <div className=\"input-group form-group\">\n//                         <div className=\"input-group-prepend\">\n//                           <span\n//                             className=\"input-group-text\"\n//                             style={{ background: social }}\n//                           >\n//                             <i className=\"fa fa-key\"></i>\n//                           </span>\n//                         </div>\n//                         <input\n//                           type=\"password\"\n//                           id=\"password\"\n//                           name=\"password\"\n//                           className=\"form-control\"\n//                           placeholder=\"password\"\n//                           value={this.state.password}\n//                           onChange={this.onChange}\n//                         />\n//                       </div>\n//                       <div className=\"form-group\">\n//                         <button\n//                           type=\"submit\"\n//                           value=\"Login\"\n//                           name=\"submit\"\n//                           className=\"btn float-right login_btn btn-block \"\n//                           style={{\n//                             backgroundColor: social,\n//                           }}\n//                         >\n//                           Login\n//                         </button>\n//                       </div>\n//                     </form>\n//                   </div>\n//                   <div className=\"card-footer\">\n//                     <div className=\"d-flex justify-content-center links\">\n//                       Don't have an account?\n//                       {signup}\n//                     </div>\n//                     <div className=\"d-flex justify-content-center\">\n//                       <a href=\"/reset\">Forgot your password?</a>\n//                     </div>\n//                   </div>\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// export default Login;","map":{"version":3,"sources":["C:/Users/SHRUTHI KV/Desktop/project_positive/my-app/src/componets/Login.js"],"names":["React","Component","useState","Fragment","axios","Redirect","Link","Login","constructor","props","onSubmit","e","preventDefault","login","email","state","password","body","JSON","stringify","config","headers","res","post","console","log","data","token","sessionStorage","setItem","setState","isAuth","error","alert","type","onChange","bind","componentDidMount","match","params","target","name","value","render","social","signup","color","background","backgroundColor"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component, useState, Fragment } from \"react\";\nimport \"./CSS/App.css\";\nimport axios from \"axios\";\nimport { Redirect, Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    // this.getUser = this.getUser;\n    this.state = {\n      email: \"\",\n      password: \"\",\n      type: \"\",\n      isAuth: false,\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      type: this.props.match.params.type,\n    });\n  }\n\n  // Input on change\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  }\n\n  // Login\n  onSubmit = async (e) => {\n    e.preventDefault();\n\n    const login = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n\n    const body = JSON.stringify(login);\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    // console.log(body);\n    try {\n      const res = await axios.post(\n        `http://localhost:5000/api/v1/auth/login`,\n        body,\n        config\n      );\n      console.log(res.data.token);\n      sessionStorage.setItem(\"token\", res.data.token);\n      sessionStorage.setItem(\"isAuth\", true);\n      // console.log(sessionStorage);\n      this.setState({\n        isAuth: true,\n      });\n    } catch (error) {\n      alert(\"Error Login!!\");\n    }\n  };\n\n  render() {\n    const type = this.state.type;\n    // console.log(type);\n    let social = {};\n    let signup, login;\n    // if (type === \"user\") {\n    social = \"#ffc312\";\n    signup = <a href={`/signup/${type}`}>Sign Up</a>;\n\n    console.log(type);\n\n    // console.log(isAuthenticated());\n    return (\n      <Fragment>\n        {this.state.isAuth ? (\n            type == \"user\" ? (\n          //   <Redirect isAuth={this.state.isAuth} to=\"/user/userprofile\" />\n          // ) : type == \"vendor\" ? (\n            <Redirect isAuth={this.state.isAuth} to=\"/vendor/Home\" />\n          ) : type == \"admin\" ? (\n            <Redirect isAuth={this.state.isAuth} to=\"/dmin\" />\n          ) : (\n                  <Redirect isAuth={this.state.isAuth} to=\"/\" />\n                )\n        ) : (\n            <div className=\"container logintop \">\n              <div className=\"\">\n                {/* <div className=\"jumbotron col-md-6 col-sm-5 \" id=\"login-first\"></div> */}\n                <div className=\"jumbotron \" id=\"login-second\">\n                  <div className=\"container\">\n                    <div className=\"d-flex justify-content-center\">\n                      <div className=\"area\">\n                        <ul className=\"circles\">\n                          <li></li>\n                          <li></li>\n                          <li></li>\n                          <li></li>\n                          <li></li>\n                          <li></li>\n                          <li></li>\n                          <li></li>\n                          <li></li>\n                          <li></li>\n                        </ul>\n                      </div>\n                      <div className=\"card animated bounce\" id=\"login-card\">\n                        <div className=\"card-header\">\n                          <h3 className=\"mt-5\">Sign In {type}</h3>\n                          <div\n                            className=\"d-flex justify-content-end\"\n                            id=\"social_icon\"\n                          >\n                            <span style={{ color: social }}>\n                              <i className=\"fa fa-facebook-square\"></i>\n                            </span>\n                            <span style={{ color: social }}>\n                              <i className=\"fa fa-google-plus-square\"></i>\n                            </span>\n                            <span style={{ color: social }}>\n                              <i className=\"fa fa-twitter-square\"></i>\n                            </span>\n                          </div>\n                        </div>\n                        <div className=\"card-body\">\n                          <form onSubmit={this.onSubmit}>\n                            <div className=\"input-group form-group\">\n                              <div className=\"input-group-prepend\">\n                                <span\n                                  className=\"input-group-text\"\n                                  style={{ background: social }}\n                                >\n                                  <i className=\"fa fa-user\"></i>\n                                </span>\n                              </div>\n                              <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                name=\"email\"\n                                placeholder=\"Email\"\n                                value={this.state.email}\n                                onChange={this.onChange}\n                              />\n                            </div>\n                            <div className=\"input-group form-group\">\n                              <div className=\"input-group-prepend\">\n                                <span\n                                  className=\"input-group-text\"\n                                  style={{ background: social }}\n                                >\n                                  <i className=\"fa fa-key\"></i>\n                                </span>\n                              </div>\n                              <input\n                                type=\"password\"\n                                id=\"password\"\n                                name=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"password\"\n                                value={this.state.password}\n                                onChange={this.onChange}\n                              />\n                            </div>\n\n                            <div className=\"form-group\">\n                              <button\n                                type=\"submit\"\n                                value=\"Login\"\n                                name=\"submit\"\n                                className=\"btn float-right login_btn btn-block \"\n                                style={{\n                                  backgroundColor: social,\n                                }}\n                              >\n                                Login\n                            </button>\n                            </div>\n                          </form>\n                        </div>\n                        <div className=\"card-footer\">\n                          <div className=\"d-flex justify-content-center links\">\n                            Don't have an account?\n                          {signup}\n                          </div>\n                          <div className=\"d-flex justify-content-center\">\n                            <a href=\"/reset\">Forgot your password?</a>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n      </Fragment>\n    );\n  }\n}\n\nexport default Login;\n\n\n\n\n// import React, { Component, useState } from \"react\";\n// import \"./CSS/App.css\";\n// import axios from \"axios\";\n// import { Redirect, Link } from \"react-router-dom\";\n// const superagent = require(\"superagent\");\n\n// class Login extends Component {\n//   constructor(props) {\n//     super(props);\n\n//     this.getUser = this.getUser;\n//     this.state = {\n//       email: \"\",\n//       password: \"\",\n//       type: \"\",\n//     };\n//     this.onChange = this.onChange.bind(this);\n//   }\n\n//   componentDidMount() {\n//     this.setState({\n//       type: this.props.match.params,\n//     });\n//     // this.props.getuser();\n//   }\n//   // Input on change\n//   onChange(e) {\n//     this.setState({\n//       [e.target.name]: e.target.value,\n//     });\n//   }\n//   // Login\n//   onSubmit = (e) => {\n//     e.preventDefault();\n//     superagent\n//       .post(\"http://localhost:5000/api/v1/auth/login\")\n//       .send({ email: this.state.email, password: this.state.password })\n//       .end((err, res) => {\n//         if (err) {\n//           this.setState({ errorMessage: \"Authenticstion Failed\" });\n//           return;\n//         }\n//         console.log(res.body.token);\n//         sessionStorage.setItem(\"token\", res.body.token);\n//       });\n//   };\n//   isAuthenticated() {\n//     const token = localStorage.getItem(\"token\");\n//     return token && token.length > 10;\n//   }\n//   render() {\n//     const type = this.state.type;\n//     console.log(type.type);\n//     let social = {};\n//     let signup, login;\n//     if (type === \"user\") {\n//       social = \"#ffc312\";\n//       signup = <a href={`/signup`}>Sign Up</a>;\n//     } else {\n//       social = \"#49b5e7\";\n//       signup = <a href={`/fsignup`}>Sign Up</a>;\n//     }\n//     // if (type === \"user\") {\n//     //   if (this.state.email == \"\") {\n//     //     social = \"#ffc312\";\n//     //   } else {\n//     //     console.log(\"err\");\n//     //   }\n//     // } else {\n//     //   if (this.state.email == \"\") {\n//     //     social = \"#49b5e7\";\n//     //   }\n//     // }\n\n//     return (\n//       <div className=\"container logintop \">\n//         {/* {this.isAuthenticated ? (\n//           <Redirect\n//             to={{\n//               pathname: \"/admin\",\n//             }}\n//           />\n//         ) : ( */}\n//         <div className=\"\">\n//           {/* <div className=\"jumbotron col-md-6 col-sm-5 \" id=\"login-first\"></div> */}\n//           <div className=\"jumbotron \" id=\"login-second\">\n//             <div className=\"container\">\n//               <div className=\"d-flex justify-content-center\">\n//                 <div className=\"area\">\n//                   <ul className=\"circles\">\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                     <li></li>\n//                   </ul>\n//                 </div>\n//                 <div className=\"card animated bounce\" id=\"login-card\">\n//                   <div className=\"card-header\">\n//                     <h3 className=\"mt-5\">Sign In As {type.type}</h3>\n//                     <div\n//                       className=\"d-flex justify-content-end\"\n//                       id=\"social_icon\"\n//                     >\n//                       <span style={{ color: social }}>\n//                         <i className=\"fa fa-facebook-square\"></i>\n//                       </span>\n//                       <span style={{ color: social }}>\n//                         <i className=\"fa fa-google-plus-square\"></i>\n//                       </span>\n//                       <span style={{ color: social }}>\n//                         <i className=\"fa fa-twitter-square\"></i>\n//                       </span>\n//                     </div>\n//                   </div>\n//                   <div className=\"card-body\">\n//                     <form onSubmit={this.onSubmit}>\n//                       <div className=\"input-group form-group\">\n//                         <div className=\"input-group-prepend\">\n//                           <span\n//                             className=\"input-group-text\"\n//                             style={{ background: social }}\n//                           >\n//                             <i className=\"fa fa-user\"></i>\n//                           </span>\n//                         </div>\n//                         <input\n//                           type=\"text\"\n//                           className=\"form-control\"\n//                           name=\"email\"\n//                           placeholder=\"Email\"\n//                           value={this.state.email}\n//                           onChange={this.onChange}\n//                         />\n//                       </div>\n//                       <div className=\"input-group form-group\">\n//                         <div className=\"input-group-prepend\">\n//                           <span\n//                             className=\"input-group-text\"\n//                             style={{ background: social }}\n//                           >\n//                             <i className=\"fa fa-key\"></i>\n//                           </span>\n//                         </div>\n//                         <input\n//                           type=\"password\"\n//                           id=\"password\"\n//                           name=\"password\"\n//                           className=\"form-control\"\n//                           placeholder=\"password\"\n//                           value={this.state.password}\n//                           onChange={this.onChange}\n//                         />\n//                       </div>\n\n//                       <div className=\"form-group\">\n//                         <button\n//                           type=\"submit\"\n//                           value=\"Login\"\n//                           name=\"submit\"\n//                           className=\"btn float-right login_btn btn-block \"\n//                           style={{\n//                             backgroundColor: social,\n//                           }}\n//                         >\n//                           Login\n//                         </button>\n//                       </div>\n//                     </form>\n//                   </div>\n//                   <div className=\"card-footer\">\n//                     <div className=\"d-flex justify-content-center links\">\n//                       Don't have an account?\n//                       {signup}\n//                     </div>\n//                     <div className=\"d-flex justify-content-center\">\n//                       <a href=\"/reset\">Forgot your password?</a>\n//                     </div>\n//                   </div>\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// export default Login;\n"]},"metadata":{},"sourceType":"module"}